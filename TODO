Importance:
3 - must do ASAP
2 - should do soon
1 - nice to have


1 - Modularize the command line parsing, accepting file as input.

3. when doing run step, do not turn on or off switch at first. the turning on takes effect at the next step

2. update documentation with correct API
